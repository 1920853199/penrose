/*
 * This is the same continuous map program, written in the new syntax.
 */

global {
    constraint outsideOf(f.shape.label, R1)
    constraint outsideOf(f.shape.label, R2)
    objective repel(f, R2.shape.label)
    objective repel(f, R1.shape.label)
    objective repel(f, U)
    objective repel(f, V)
    objective sameHeight(R1, R2)
    constraint sameSizeAs(R1, R2)
    constraint sameSizeAs(U, V)
    constraint sameSizeAs(A, B)
}

Set x {
    shape = Circle { }
    constraint contains(x, x.shape.label)
    -- objective centerLabel(x, x.shape.label)
}

NonIntersect x y {
    constraint nonOverlapping(x, y)
}

IsSubset x y {
    constraint contains(y, x)
    constraint outsideOf(y.shape.label, x)
}

Map f x y {
    shape = Arrow {
        start = x.shape
        end   = y.shape
        text = Auto
    }
    objective centerLabel(f, f.shape.label)
    objective toLeft(x, y)
    objective sameHeight(x, y)
}

Set `R1` {
    shape = Box { }
}

Set `R2` {
    shape = Box { }
}



