 Set x {
    x.shape = Text { string : x.label }
}

Set x; Set y {
   -- Try to make sure no labels overlap
   encourage repel(x.shape, y.shape, 5.0)
}

-- TODO: Phase this back in

Set x; Set y
where IsSubset(x, y) {
    arrow = Arrow {
      thickness : 2.0
      color : rgba(0.0, 0.0, 0.0, 1.0)
    }

    -- Draw the arrow from y to x
    encourage centerArrow(arrow, x.shape, y.shape)

    -- Position y above x
    encourage above(y.shape, x.shape)

    -- Have sets 'fight' to be aligned with the superset's x-position
    encourage equal(x.shape.center[0], y.shape.center[0])
}

/*
-- TODO: This one currently causes convergence to become very slow but works eventually

Set x1; Set x2
where IsSubset(x1, S); IsSubset(x2, S)
with Set S {
   -- If two sets are direct subsets of the same set, give them the same y-position
   heightFn = ensure sameHeight(x1.shape, x2.shape)
}
*/
